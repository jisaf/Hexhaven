{
  "scenarios": [
    {
      "id": "scenario-1",
      "name": "Black Barrow",
      "difficulty": 1,
      "objectivePrimary": "Kill all enemies",
      "objectiveSecondary": "Loot the treasure chest",
      "objectives": {
        "primary": {
          "id": "primary-1",
          "type": "kill_all_monsters",
          "description": "Defeat all enemies",
          "trackProgress": true
        },
        "secondary": [
          {
            "id": "secondary-1",
            "type": "collect_treasure",
            "description": "Loot the treasure chest",
            "params": {
              "target": 1
            },
            "trackProgress": true,
            "rewards": {
              "gold": 10
            }
          }
        ]
      },
      "mapLayout": [
        { "coordinates": { "q": 0, "r": 0 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 1, "r": 0 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 2, "r": 0 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 3, "r": 0 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 0, "r": 1 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 1, "r": 1 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 2, "r": 1 }, "terrain": "obstacle", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 3, "r": 1 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 0, "r": 2 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 1, "r": 2 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 2, "r": 2 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 3, "r": 2 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 0, "r": 3 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 1, "r": 3 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 2, "r": 3 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 3, "r": 3 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": true }
      ],
      "monsterGroups": [
        {
          "type": "Bandit Guard",
          "count": 2,
          "spawnPoints": [
            { "q": 2, "r": 0 },
            { "q": 3, "r": 1 }
          ],
          "isElite": false,
          "stats": {
            "health": 5,
            "movement": 2,
            "attack": 2,
            "range": 0,
            "specialAbilities": []
          }
        },
        {
          "type": "Bandit Archer",
          "count": 1,
          "spawnPoints": [
            { "q": 3, "r": 0 }
          ],
          "isElite": false,
          "stats": {
            "health": 3,
            "movement": 2,
            "attack": 2,
            "range": 3,
            "specialAbilities": []
          }
        }
      ],
      "treasures": [
        { "q": 3, "r": 3 }
      ],
      "playerStartPositions": {
        "1": [{ "q": 0, "r": 0 }],
        "2": [{ "q": 0, "r": 0 }, { "q": 1, "r": 0 }],
        "3": [{ "q": 0, "r": 0 }, { "q": 1, "r": 0 }, { "q": 0, "r": 1 }],
        "4": [{ "q": 0, "r": 0 }, { "q": 1, "r": 0 }, { "q": 0, "r": 1 }, { "q": 1, "r": 1 }]
      }
    },
    {
      "id": "scenario-2",
      "name": "Crypt of Blood",
      "difficulty": 2,
      "objectivePrimary": "Survive 6 rounds",
      "objectiveSecondary": "Kill all undead before round 6",
      "objectives": {
        "primary": {
          "id": "primary-1",
          "type": "survive_rounds",
          "description": "Survive for 6 rounds",
          "params": {
            "rounds": 6
          },
          "trackProgress": true
        },
        "secondary": [
          {
            "id": "secondary-1",
            "type": "custom",
            "description": "Kill all undead before round 6",
            "customFunction": "const allUndead = context.monsters.filter(m => m.type === 'Living Bones'); const deadUndead = allUndead.filter(m => m.isDead); const complete = allUndead.length > 0 && deadUndead.length === allUndead.length && context.game.currentRound < 6; return complete;",
            "trackProgress": false,
            "rewards": {
              "experience": 5,
              "gold": 15
            }
          }
        ]
      },
      "mapLayout": [
        { "coordinates": { "q": 0, "r": 0 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 1, "r": 0 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 2, "r": 0 }, "terrain": "difficult", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 3, "r": 0 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 4, "r": 0 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 0, "r": 1 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 1, "r": 1 }, "terrain": "hazardous", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 2, "r": 1 }, "terrain": "obstacle", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 3, "r": 1 }, "terrain": "hazardous", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 4, "r": 1 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 0, "r": 2 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 1, "r": 2 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 2, "r": 2 }, "terrain": "difficult", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 3, "r": 2 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 4, "r": 2 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false }
      ],
      "monsterGroups": [
        {
          "type": "Living Bones",
          "count": 3,
          "spawnPoints": [
            { "q": 3, "r": 0 },
            { "q": 4, "r": 0 },
            { "q": 4, "r": 1 }
          ],
          "isElite": false,
          "stats": {
            "health": 4,
            "movement": 2,
            "attack": 2,
            "range": 0,
            "specialAbilities": []
          }
        },
        {
          "type": "Living Bones",
          "count": 1,
          "spawnPoints": [
            { "q": 3, "r": 2 }
          ],
          "isElite": true,
          "stats": {
            "health": 6,
            "movement": 2,
            "attack": 3,
            "range": 0,
            "specialAbilities": ["Shield 1"]
          }
        }
      ],
      "treasures": [],
      "playerStartPositions": {
        "1": [{ "q": 0, "r": 0 }],
        "2": [{ "q": 0, "r": 0 }, { "q": 1, "r": 0 }],
        "3": [{ "q": 0, "r": 0 }, { "q": 1, "r": 0 }, { "q": 0, "r": 1 }],
        "4": [{ "q": 0, "r": 0 }, { "q": 1, "r": 0 }, { "q": 0, "r": 1 }, { "q": 0, "r": 2 }]
      }
    },
    {
      "id": "scenario-3",
      "name": "Inox Encampment",
      "difficulty": 2,
      "objectivePrimary": "Kill the Inox Shaman (boss)",
      "objectiveSecondary": "Complete in 8 rounds or less",
      "objectives": {
        "primary": {
          "id": "primary-1",
          "type": "kill_boss",
          "description": "Defeat the Inox Shaman",
          "params": {
            "monsterType": "Inox Shaman"
          },
          "trackProgress": true,
          "milestones": [25, 50, 75]
        },
        "secondary": [
          {
            "id": "secondary-1",
            "type": "custom",
            "description": "Complete in 8 rounds or less",
            "customFunction": "const boss = context.monsters.find(m => m.type === 'Inox Shaman'); if (!boss || !boss.isDead) return false; return context.game.currentRound <= 8;",
            "trackProgress": false,
            "rewards": {
              "experience": 3,
              "gold": 10
            }
          }
        ],
        "failureConditions": [
          {
            "id": "fail-1",
            "type": "time_limit",
            "description": "Time limit exceeded",
            "params": {
              "rounds": 12
            }
          }
        ]
      },
      "mapLayout": [
        { "coordinates": { "q": 0, "r": 0 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 1, "r": 0 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 2, "r": 0 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 3, "r": 0 }, "terrain": "obstacle", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 4, "r": 0 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 5, "r": 0 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 0, "r": 1 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 1, "r": 1 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 2, "r": 1 }, "terrain": "difficult", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 3, "r": 1 }, "terrain": "obstacle", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 4, "r": 1 }, "terrain": "difficult", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 5, "r": 1 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 0, "r": 2 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 1, "r": 2 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 2, "r": 2 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 3, "r": 2 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 4, "r": 2 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 5, "r": 2 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false }
      ],
      "monsterGroups": [
        {
          "type": "Inox Guard",
          "count": 2,
          "spawnPoints": [
            { "q": 4, "r": 0 },
            { "q": 5, "r": 0 }
          ],
          "isElite": false,
          "stats": {
            "health": 7,
            "movement": 2,
            "attack": 3,
            "range": 0,
            "specialAbilities": ["Retaliate 1"]
          }
        },
        {
          "type": "Inox Shaman",
          "count": 1,
          "spawnPoints": [
            { "q": 5, "r": 2 }
          ],
          "isElite": true,
          "stats": {
            "health": 10,
            "movement": 1,
            "attack": 2,
            "range": 3,
            "specialAbilities": ["Heal 2 (adjacent ally)", "Muddle"]
          }
        }
      ],
      "treasures": [],
      "playerStartPositions": {
        "1": [{ "q": 0, "r": 0 }],
        "2": [{ "q": 0, "r": 0 }, { "q": 1, "r": 0 }],
        "3": [{ "q": 0, "r": 0 }, { "q": 1, "r": 0 }, { "q": 0, "r": 1 }],
        "4": [{ "q": 0, "r": 0 }, { "q": 1, "r": 0 }, { "q": 0, "r": 1 }, { "q": 1, "r": 1 }]
      }
    },
    {
      "id": "scenario-4",
      "name": "Vermling Nest",
      "difficulty": 1,
      "objectivePrimary": "Kill all enemies",
      "objectiveSecondary": "Do not let any Vermlings escape (reach the exit)",
      "objectives": {
        "primary": {
          "id": "primary-1",
          "type": "kill_all_monsters",
          "description": "Defeat all enemies",
          "trackProgress": true
        },
        "secondary": [
          {
            "id": "secondary-1",
            "type": "custom",
            "description": "Don't let any Vermlings escape",
            "customFunction": "const exitHex = { q: 3, r: 2 }; const vermlings = context.monsters.filter(m => m.type.includes('Vermling')); const escaped = vermlings.filter(m => !m.isDead && m.position.q === exitHex.q && m.position.r === exitHex.r); return escaped.length === 0;",
            "trackProgress": false,
            "rewards": {
              "experience": 4,
              "gold": 8
            }
          }
        ]
      },
      "mapLayout": [
        { "coordinates": { "q": 0, "r": 0 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 1, "r": 0 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 2, "r": 0 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 3, "r": 0 }, "terrain": "normal", "occupiedBy": null, "hasLoot": true, "hasTreasure": false },
        { "coordinates": { "q": 0, "r": 1 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 1, "r": 1 }, "terrain": "obstacle", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 2, "r": 1 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 3, "r": 1 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 0, "r": 2 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 1, "r": 2 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 2, "r": 2 }, "terrain": "normal", "occupiedBy": null, "hasLoot": true, "hasTreasure": false },
        { "coordinates": { "q": 3, "r": 2 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false }
      ],
      "monsterGroups": [
        {
          "type": "Vermling Scout",
          "count": 3,
          "spawnPoints": [
            { "q": 2, "r": 0 },
            { "q": 3, "r": 1 },
            { "q": 3, "r": 2 }
          ],
          "isElite": false,
          "stats": {
            "health": 2,
            "movement": 3,
            "attack": 1,
            "range": 0,
            "specialAbilities": []
          }
        },
        {
          "type": "Vermling Shaman",
          "count": 1,
          "spawnPoints": [
            { "q": 2, "r": 2 }
          ],
          "isElite": false,
          "stats": {
            "health": 3,
            "movement": 2,
            "attack": 1,
            "range": 2,
            "specialAbilities": ["Curse"]
          }
        }
      ],
      "treasures": [],
      "playerStartPositions": {
        "1": [{ "q": 0, "r": 0 }],
        "2": [{ "q": 0, "r": 0 }, { "q": 0, "r": 1 }],
        "3": [{ "q": 0, "r": 0 }, { "q": 0, "r": 1 }, { "q": 1, "r": 0 }],
        "4": [{ "q": 0, "r": 0 }, { "q": 0, "r": 1 }, { "q": 1, "r": 0 }, { "q": 1, "r": 2 }]
      }
    },
    {
      "id": "scenario-5",
      "name": "Elemental Convergence",
      "difficulty": 3,
      "objectivePrimary": "Kill all elemental demons",
      "objectiveSecondary": "Use each element at least once during battle",
      "objectives": {
        "primary": {
          "id": "primary-1",
          "type": "kill_monster_type",
          "description": "Defeat all elemental demons",
          "params": {
            "monsterTypes": ["Flame Demon", "Frost Demon", "Earth Demon"]
          },
          "trackProgress": true
        },
        "secondary": [
          {
            "id": "secondary-1",
            "type": "custom",
            "description": "Use each element at least once",
            "customFunction": "const elements = context.game.elementsActive; const usedElements = [elements.fire, elements.ice, elements.air, elements.earth, elements.light, elements.dark].filter(state => state !== 'inert'); return usedElements.length === 6;",
            "trackProgress": false,
            "rewards": {
              "experience": 6,
              "gold": 12
            }
          },
          {
            "id": "secondary-2",
            "type": "collect_treasure",
            "description": "Collect the treasure",
            "params": {
              "target": 1
            },
            "trackProgress": true,
            "rewards": {
              "gold": 15
            }
          }
        ]
      },
      "mapLayout": [
        { "coordinates": { "q": 0, "r": 0 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 1, "r": 0 }, "terrain": "hazardous", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 2, "r": 0 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 3, "r": 0 }, "terrain": "hazardous", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 4, "r": 0 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 0, "r": 1 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 1, "r": 1 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 2, "r": 1 }, "terrain": "obstacle", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 3, "r": 1 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 4, "r": 1 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 0, "r": 2 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 1, "r": 2 }, "terrain": "difficult", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 2, "r": 2 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 3, "r": 2 }, "terrain": "difficult", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 4, "r": 2 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 0, "r": 3 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 1, "r": 3 }, "terrain": "hazardous", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 2, "r": 3 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 3, "r": 3 }, "terrain": "hazardous", "occupiedBy": null, "hasLoot": false, "hasTreasure": false },
        { "coordinates": { "q": 4, "r": 3 }, "terrain": "normal", "occupiedBy": null, "hasLoot": false, "hasTreasure": true }
      ],
      "monsterGroups": [
        {
          "type": "Flame Demon",
          "count": 2,
          "spawnPoints": [
            { "q": 1, "r": 0 },
            { "q": 3, "r": 0 }
          ],
          "isElite": false,
          "stats": {
            "health": 4,
            "movement": 3,
            "attack": 2,
            "range": 0,
            "specialAbilities": ["Generate Fire"]
          }
        },
        {
          "type": "Frost Demon",
          "count": 2,
          "spawnPoints": [
            { "q": 1, "r": 3 },
            { "q": 3, "r": 3 }
          ],
          "isElite": false,
          "stats": {
            "health": 4,
            "movement": 2,
            "attack": 2,
            "range": 2,
            "specialAbilities": ["Generate Ice", "Immobilize"]
          }
        },
        {
          "type": "Earth Demon",
          "count": 1,
          "spawnPoints": [
            { "q": 4, "r": 1 }
          ],
          "isElite": true,
          "stats": {
            "health": 8,
            "movement": 1,
            "attack": 3,
            "range": 0,
            "specialAbilities": ["Generate Earth", "Shield 2"]
          }
        }
      ],
      "treasures": [
        { "q": 4, "r": 3 }
      ],
      "playerStartPositions": {
        "1": [{ "q": 0, "r": 0 }],
        "2": [{ "q": 0, "r": 0 }, { "q": 0, "r": 1 }],
        "3": [{ "q": 0, "r": 0 }, { "q": 0, "r": 1 }, { "q": 0, "r": 2 }],
        "4": [{ "q": 0, "r": 0 }, { "q": 0, "r": 1 }, { "q": 0, "r": 2 }, { "q": 0, "r": 3 }]
      }
    }
  ]
}
