.infoPanel {
  display: flex;
  flex-direction: column;
  background-color: var(--primary-bg-color, #0d1a2e);
  position: relative;
  overflow: hidden;
}

/* Portrait mode - bottom half of screen, fixed position */
@media (orientation: portrait) {
  .infoPanel {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    width: 100vw;
    height: 50vh; /* Fallback */
    height: 50dvh; /* Modern browsers - accounts for address bar */
    z-index: 10;
  }

  .turnStatusContainer {
    height: calc(25vh - 22px); /* Fallback - half minus half of card pile bar */
    height: calc(25dvh - 22px); /* Half of info panel minus half of 44px */
    overflow: hidden;
  }

  .gameLogContainer {
    height: calc(25vh - 22px); /* Fallback - half minus half of card pile bar */
    height: calc(25dvh - 22px); /* Half of info panel minus half of 44px */
    overflow: hidden;
  }

  .cardPileBarContainer {
    height: 44px;
    width: 100%;
    flex-shrink: 0; /* Don't shrink */
    overflow: hidden;
  }

  .cardSelectionOverlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 44px; /* Leave space for card pile bar */
    width: 100%;
    height: calc(100% - 44px); /* Adjust height to not cover card pile bar */
    z-index: var(--z-index-card-selection-overlay); /* Above turn status and game log */
    animation: slideUpIn 300ms ease-out forwards;
    /* Prevent click-through to underlying elements */
    background-color: transparent;
    pointer-events: auto;
  }

  @keyframes slideUpIn {
    from {
      transform: translateY(100%);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
}

/* Landscape mode - right 40% of screen */
@media (orientation: landscape) {
  .infoPanel {
    width: 40vw;
    height: 100vh; /* Fallback */
    height: 100dvh; /* Modern browsers */
  }

  .turnStatusContainer {
    height: calc(50vh - 22px); /* Fallback - half minus half of card pile bar */
    height: calc(50dvh - 22px); /* Half of info panel minus half of 44px */
    overflow: hidden;
  }

  .gameLogContainer {
    height: calc(50vh - 22px); /* Fallback - half minus half of card pile bar */
    height: calc(50dvh - 22px); /* Half of info panel minus half of 44px */
    overflow: hidden;
  }

  .cardPileBarContainer {
    height: 44px;
    width: 100%;
    flex-shrink: 0; /* Don't shrink */
    overflow: hidden;
  }

  .cardSelectionOverlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 44px; /* Leave space for card pile bar */
    width: 100%;
    height: calc(100% - 44px); /* Adjust height to not cover card pile bar */
    z-index: var(--z-index-card-selection-overlay); /* Above turn status and game log */
    animation: slideLeftIn 300ms ease-out forwards;
    /* Prevent click-through to underlying elements */
    background-color: transparent;
    pointer-events: auto;
  }

  @keyframes slideLeftIn {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
}

/* Ensure children fill their containers */
.turnStatusContainer > *,
.gameLogContainer > *,
.cardPileBarContainer > *,
.cardSelectionOverlay > * {
  height: 100%;
}
